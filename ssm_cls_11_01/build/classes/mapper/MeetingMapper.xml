<?xml version="1.0" encoding="UTF-8" ?>
 <!DOCTYPE mapper
   PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
     "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.bawei.dao.MeetingDao">

	<resultMap type="Meeting" id="meetingMap">
		<id column="mid" property="id"/>
		<result column="meetingName" property="meetingName"/>
		<result column="startTime" property="startTime"/>
		<result column="endTime" property="endTime"/>
		<result column="provinceId" property="provinceId"/>
		<result column="cityId" property="cityId"/>
		<result column="countyId" property="countyId"/>
		<result column="address" property="address"/>
		<result column="contact" property="contact"/>
		<result column="mtel" property="telephone"/>
		<result column="mobilephone" property="mobilephone"/>
		<result column="introduce" property="introduce"/>
		<result column="image" property="image"/>
		<result column="state" property="state"/>
	</resultMap>

	<select id="findMeetingByGuestId" parameterType="HashMap" resultType="Meeting">
		select * from meeting m
		join guest_meeting gm on gm.mid=m.id
		where gm.gid=#{gid}
		<if test="meetingName!=null and meetingName!=''">
			and meetingName like concat('%',#{meetingName},'%')
		</if>
		<if test="address!=null and address!=''">
			and address like concat('%',#{address},'%')
		</if>
	</select>
</mapper>









